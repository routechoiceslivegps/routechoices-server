{% extends "dashboard/club_view.html" %}
{% load compress django_bootstrap5 static %}
{% block sub_sub_content %}
    <div class="row">
        <div class="col-12">
            <h1>Convert GPX to GeoJSON</h1>
            <form id="gpx-to-geojson-form">
                <div class="mb-3">
                    <label class="form-label fw-bold" for="id_gpx2_file">Gpx file</label>
                    <input class="form-control" id="id_gpx2_file" name="gpx_file" required="" type="file" accept=".gpx">
                </div>
                <button type="submit" class="btn btn-primary mb-1">
                    <i class="fa-solid fa-file-arrow-up"></i> Convert
                </button>
            </form>
            <hr>
            <h2>Or create a map from a GPX</h2>
            <div class="alert alert-warning" role="alert">
                âš  This method is deprecated, we now recommend converting your GPX to a GeoJSON that you can use within your event.
            </div>
            <form action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {% bootstrap_form form %}
                <button id="submit-btn" type="submit" class="btn btn-primary mb-1">
                    <i class="fa-solid fa-file-arrow-up"></i> Upload
                </button>
            </form>
        </div>
    </div>
{% endblock sub_sub_content %}

{% block extra_body %}
    {% compress js %}
        <script src="{% static '/vendor/umbrella-3.3.1/umbrella.min.js' %}"></script>
        <script src="{% static '/vendor/gpxparser-3.0.8/GPXParser.min.js' %}"></script>
        <script src="{% static '/scripts/dashboard/map_gpx_upload.js' %}"></script>
        <script src="{% static '/scripts/submit-form-commons.js' %}"></script>
    {% endcompress %}
{% endblock extra_body %}
